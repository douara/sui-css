@use "sass:map";
@use "sass:meta";

// Import required stylesheets.
@use "./defaults" as *;
@use "./logger" as *;

// -----------------------------------------------------------------------------
// BEM Constructor Error Checks
// -----------------------------------------------------------------------------
/// 1. Error Checks Within
/// Checks that it's being created within any of the passed $objs...
@function _should-be-called-within($objs...) {
	@each $obj in $objs {
		@if map.get($bem-current-context, $obj) != null {
			@return true;
		}
	}

	@if $bem-throw-errors {
		@error 'It should be called within #{meta.inspect($objs)}';
	}

	@return false;
}

/// 2. Error Checks Outside
/// Checks that it's being created outside all of the passed $objs...
@function _should-not-be-called-within($objs...) {
	@debug "#{$bem-current-context}";

	@each $obj in $objs {
		@if map.get($bem-current-context, $obj) != null {
			@if $bem-throw-errors {
				@error 'It should not be called within #{meta.inspect($objs)}';
			}

			@return false;
		}
	}

	@return true;
}
